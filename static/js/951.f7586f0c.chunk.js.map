{"version":3,"file":"static/js/951.f7586f0c.chunk.js","mappings":"AAAAA,UAAYC,UACV,MAAM,YAAEC,EAAW,KAAEC,GAASC,EAAEC,KAG1BC,EAAO,IAAIC,KAAK,CAACL,GAAc,CAAEC,SAGjCK,QAAkBC,kBAAkBH,GAG3B,IAAII,gBAAgBF,EAAUG,MAAOH,EAAUI,QAC3CC,WAAW,MAC1BC,UAAUN,EAAW,EAAG,GAG5B,MAAMO,EAAe,IACfC,EAAWR,EAAUG,MAAQH,EAAUI,OAASG,EAAgBP,EAAUG,MAAQI,EAAgBP,EAAUI,OAC5GK,EAAYT,EAAUI,OAASJ,EAAUG,MAAQI,EAAgBP,EAAUI,OAASG,EAAgBP,EAAUG,MAE9GO,EAAe,IAAIR,gBAAgBM,EAAUC,GACjCC,EAAaL,WAAW,MAChCC,UAAUN,EAAW,EAAG,EAAGQ,EAAUC,GAG/C,MAAME,QAAoBD,EAAaE,gBAEjCC,EAAS,IAAIC,WACnBD,EAAOE,UAAY,KACjBC,YAAY,CAAEC,aAAcJ,EAAOK,QAAS,EAG9CL,EAAOM,cAAcR,EAAY","sources":["imageWorker.js"],"sourcesContent":["onmessage = async (e) => {\n  const { arrayBuffer, type } = e.data;\n  \n  // Create a Blob from the received ArrayBuffer\n  const blob = new Blob([arrayBuffer], { type });\n  \n  // Use createImageBitmap, which is available in workers, to handle images\n  const imgBitmap = await createImageBitmap(blob);\n\n  // Create an OffscreenCanvas to manipulate the image\n  const canvas = new OffscreenCanvas(imgBitmap.width, imgBitmap.height);\n  const ctx = canvas.getContext('2d');\n  ctx.drawImage(imgBitmap, 0, 0);\n\n  // Rescale or manipulate the image\n  const maxDimension = 2000; // Example resizing logic\n  const newWidth = imgBitmap.width > imgBitmap.height ? maxDimension : (imgBitmap.width * maxDimension) / imgBitmap.height;\n  const newHeight = imgBitmap.height > imgBitmap.width ? maxDimension : (imgBitmap.height * maxDimension) / imgBitmap.width;\n\n  const targetCanvas = new OffscreenCanvas(newWidth, newHeight);\n  const targetCtx = targetCanvas.getContext('2d');\n  targetCtx.drawImage(imgBitmap, 0, 0, newWidth, newHeight);\n\n  // Convert the canvas to a Blob and send it back to the main thread as a Data URL\n  const resizedBlob = await targetCanvas.convertToBlob();\n  \n  const reader = new FileReader();\n  reader.onloadend = () => {\n    postMessage({ resizedImage: reader.result });\n  };\n\n  reader.readAsDataURL(resizedBlob); // Convert Blob to Data URL\n};"],"names":["onmessage","async","arrayBuffer","type","e","data","blob","Blob","imgBitmap","createImageBitmap","OffscreenCanvas","width","height","getContext","drawImage","maxDimension","newWidth","newHeight","targetCanvas","resizedBlob","convertToBlob","reader","FileReader","onloadend","postMessage","resizedImage","result","readAsDataURL"],"sourceRoot":""}